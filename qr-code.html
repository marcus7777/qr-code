<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="../qr-ious/qr-ious.html">
<!--
  `<qr-code></qr-code>` Displays a QR code
  @demo demo.html
-->
<dom-module id="qr-code">
  <template>
    <style>:host {display:inline-block}</style>
    <a href="{{href}}"><canvas style="width:100%;height:100%" id="qr"></canvas></a>
  </template>
</dom-module>
<script>
  Polymer({
    is: "qr-code",
    properties:{
      href:String,
      value:String,
      qr:{
        computed:"getQr(value,size,foreground,background,level)",
      },
      size:{
        type:Number,
        value:200,
      },
      foreground:{
        type:String,
        value:"#000",
      },
      background:{
        type:String,
        value:"#FFF",
      },
      level:{
        type:String,
        value:"H",
      },
    },
    ready: function() {
      if (this.href) {
        this.value = this.href
      }
    },
    getQr: function(value,size,foreground,background,level){
      var qrEle = this.$.qr
      
      return new QRious({
        element: qrEle,
        value: value,
        size: size,
        level: level,
        background: background,
        foreground: foreground
      })
      
    },
  })
</script>
